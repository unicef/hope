# Generated by Django 3.2.25 on 2025-02-14 11:29

from django.db import migrations


def delete_models_if_exists(apps, schema_editor):  # pragma: no cover
    try:
        FinancialInstitutionMapping = apps.get_model("payment", "FinancialInstitutionMapping")
        FinancialInstitution = apps.get_model("payment", "FinancialInstitution")

        # Delete models if they exist
        if FinancialInstitutionMapping._meta.db_table in schema_editor.connection.introspection.table_names():
            FinancialInstitutionMapping._meta.apps.all_models["payment"].pop("financialinstitutionmapping", None)
            schema_editor.delete_model(FinancialInstitutionMapping)

        if FinancialInstitution._meta.db_table in schema_editor.connection.introspection.table_names():
            FinancialInstitution._meta.apps.all_models["payment"].pop("financialinstitution", None)
            schema_editor.delete_model(FinancialInstitution)

    except LookupError:
        pass


class Migration(migrations.Migration):
    dependencies = [
        ("payment", "0016_migration"),
    ]

    operations = [
        migrations.RunPython(delete_models_if_exists),
    ]
