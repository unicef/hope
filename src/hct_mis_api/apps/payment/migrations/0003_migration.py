# Generated by Django 3.2.25 on 2024-10-23 23:15
from django.db import migrations, models, utils, transaction


class Migration(migrations.Migration):

    dependencies = [
        ("payment", "0002_migration"),
        ("household", "0003_migration"),
    ]

    operations = [
        migrations.AddField(
            model_name="cashplan",
            name="is_migrated_to_payment_plan",
            field=models.BooleanField(default=False),
        ),
        migrations.AddField(
            model_name="paymentplan",
            name="internal_data",
            field=models.JSONField(default=dict),
        ),
        migrations.AddField(
            model_name="paymentplan",
            name="is_cash_assist",
            field=models.BooleanField(default=False),
        ),
        migrations.AddField(
            model_name="payment",
            name="is_cash_assist",
            field=models.BooleanField(default=False),
        ),
        migrations.AddField(
            model_name="payment",
            name="internal_data",
            field=models.JSONField(default=dict),
        ),
        migrations.RemoveConstraint(
            model_name="payment",
            name="payment_plan_and_household",
        ),
        migrations.AddConstraint(
            model_name="payment",
            constraint=models.UniqueConstraint(
                condition=models.Q(("is_cash_assist", False)),
                fields=("parent", "household"),
                name="payment_plan_and_household",
            ),
        ),
        migrations.AddField(
            model_name="financialserviceprovider",
            name="internal_data",
            field=models.JSONField(default=dict),
        ),
        migrations.AddField(
            model_name="paymentverificationplan",
            name="payment_plan",
            field=models.ForeignKey(
                to="payment.PaymentPlan",
                null=True,  # Temporarily allow nulls for migration purposes
                on_delete=models.CASCADE,
                related_name="payment_verification_plans",
            ),
        ),
        migrations.AddField(
            model_name="paymentverificationsummary",
            name="payment_plan",
            field=models.OneToOneField(
                to="payment.PaymentPlan",
                null=True,  # Temporarily allow nulls for migration purposes
                on_delete=models.CASCADE,
                related_name="payment_verification_summary",
            ),
        ),
        migrations.AddField(
            model_name="paymentverification",
            name="payment",
            field=models.OneToOneField(
                to="payment.Payment",
                null=True,  # Temporarily allow nulls for migration purposes
                on_delete=models.CASCADE,
                related_name="payment_verification",
            ),
        ),
        migrations.AlterField(
            model_name='paymentverification',
            name='payment_content_type',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE,
                                    to='contenttypes.contenttype'),
        ),
        migrations.AlterField(
            model_name='paymentverification',
            name='payment_object_id',
            field=models.UUIDField(null=True),
        ),
        migrations.AlterField(
            model_name='paymentverificationplan',
            name='payment_plan_content_type',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE,
                                    to='contenttypes.contenttype'),
        ),
        migrations.AlterField(
            model_name='paymentverificationplan',
            name='payment_plan_object_id',
            field=models.UUIDField(null=True),
        ),
        migrations.AlterField(
            model_name='paymentverificationsummary',
            name='payment_plan_content_type',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE,
                                    to='contenttypes.contenttype'),
        ),
        migrations.AlterField(
            model_name='paymentverificationsummary',
            name='payment_plan_object_id',
            field=models.UUIDField(null=True),
        ),
    ]
